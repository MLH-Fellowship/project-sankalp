{% extends "base.html" %}

{% block head %}

{% endblock %}

{% block content %}

<h1 style="font-family:georgia;">About Us</h1>
<nav>
  <ul>
    <li>
      <a href="/">About Yourself</a>
    </li>
    <li>
      <a href="/Experience">Previous Work Experience</a>
    </li>
    <li>
      <a href="/Hobbies">Hobbies</a>
    </li>
    <li>
        <a href="/Education">Education</a>
      </li>
      <li>
        <a href="/Map">Map</a>
      </li>
      <li>
        <a href="/Timeline">Timeline</a>
      </li>
  </ul>
</nav>

<h1>Timeline</h1>

<body>
<div class="input" >
    <form id="form">

        <label for="name">Name</label>
        <input id="name" name="name" type="text">
        <label for="email">Email</label>
        <input id = "email" name="email" type="text">
        <label for="content">Content </label>
        <input id="content" name="content" type="text">
        <button class = "submit" type="submit">Submit</button>
    </form>
</div>

<script>
    /* Sending the formData object as payload using Fetch */

    const form = document.getElementById('form');

    form.addEventListener('submit', function(e) {
        // Prevent default behavior:
        e.preventDefault();
        // Create payload as new FormData object:
        const payload = new FormData(form);
        // Post the payload using Fetch:
        fetch('/api/timeline_post', {
        method: 'POST',
        body: payload,
        })
        .then(res => res.json())
        .then(data => console.log(data))
        .finally(function () {
            setTimeout(function(){
                window.location.reload();},100);
    })

</script>
</body>
</html>

{% endblock %}
